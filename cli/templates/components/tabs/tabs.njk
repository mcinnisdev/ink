{% macro tabs(items, id) %}
{% set tabsId = id or "tabs" %}
<div class="tabs" id="{{ tabsId }}">
  <div class="tabs__list" role="tablist" aria-label="Content tabs">
    {% for item in items %}
    <button class="tabs__tab" role="tab"
      id="{{ tabsId }}-tab-{{ loop.index0 }}"
      aria-controls="{{ tabsId }}-panel-{{ loop.index0 }}"
      aria-selected="{{ 'true' if loop.first else 'false' }}"
      {% if not loop.first %}tabindex="-1"{% endif %}>
      {{ item.label }}
    </button>
    {% endfor %}
  </div>
  {% for item in items %}
  <div class="tabs__panel" role="tabpanel"
    id="{{ tabsId }}-panel-{{ loop.index0 }}"
    aria-labelledby="{{ tabsId }}-tab-{{ loop.index0 }}"
    {% if not loop.first %}hidden{% endif %}>
    {{ item.content | safe }}
  </div>
  {% endfor %}
</div>
{% endmacro %}
