---
layout: base.njk
---
{% if featured_image or hero_headline %}
  {% include "components/hero.njk" %}
{% else %}
<section class="hero hero--no-image hero--sm">
  <div class="hero__content">
    <h1 class="hero__title">{{ title }}</h1>
    {% if excerpt %}<p class="hero__subtitle">{{ excerpt }}</p>{% endif %}
  </div>
</section>
{% endif %}

<section class="section">
  <div class="container">
    {%- set items = collections[collection_name] -%}
    {% if pagination %}
      {%- set items = pagination.items -%}
    {% endif %}

    {% if items and items.length %}
    <div class="card-grid">
      {% for item in items %}
        {% include "components/card.njk" %}
      {% endfor %}
    </div>

    {% if pagination and pagination.pages.length > 1 %}
    <nav class="pagination" aria-label="Page navigation">
      {% if pagination.href.previous %}
        <a href="{{ pagination.href.previous }}" class="pagination__link" aria-label="Previous page">&laquo; Prev</a>
      {% endif %}

      {% for pageEntry in pagination.pages %}
        {% set pageUrl = pagination.hrefs[loop.index0] %}
        {% if loop.index0 == pagination.pageNumber %}
          <span class="pagination__current" aria-current="page">{{ loop.index }}</span>
        {% else %}
          <a href="{{ pageUrl }}" class="pagination__link">{{ loop.index }}</a>
        {% endif %}
      {% endfor %}

      {% if pagination.href.next %}
        <a href="{{ pagination.href.next }}" class="pagination__link" aria-label="Next page">Next &raquo;</a>
      {% endif %}
    </nav>
    {% endif %}

    {% else %}
    <p class="text-center">No items to display yet.</p>
    {% endif %}
  </div>
</section>

{% if content | trim %}
<section class="section section--alt">
  <div class="container container--narrow">
    {{ content | safe }}
  </div>
</section>
{% endif %}
