---
layout: base.njk
og_type: article
---
<article class="section">
  <div class="container container--narrow">
    {% if featured_image %}
    <div class="hero hero--sm" style="background-image: url('{{ featured_image }}')">
      <div class="hero__overlay"></div>
    </div>
    {% endif %}
    <header class="detail__header">
      <h1>{{ title }}</h1>
      <div class="post-meta">
        {% if date %}<time class="post-meta__item" datetime="{{ date | dateISO }}">{{ date | dateFormat }}</time>{% endif %}
        {% if author %}<span class="post-meta__item">{{ author }}</span>{% endif %}
        {% if content %}<span class="post-meta__item">{{ content | readingTime }}</span>{% endif %}
      </div>
    </header>
    <div class="detail__content">
      {{ content | safe }}
    </div>
    {% if post_tags %}
    <div class="post-tags">
      {% for tag in post_tags | split(",") %}
      <span class="post-tags__tag">{{ tag | trim }}</span>
      {% endfor %}
    </div>
    {% endif %}
    {% from "components/social-share.njk" import socialShare %}
    <div class="mt-lg">
      {{ socialShare(title, page.url, site.url) }}
    </div>
    {%- set allPosts = collections.posts %}
    {%- set currentIndex = -1 %}
    {%- for post in allPosts %}
      {%- if post.url == page.url %}{%- set currentIndex = loop.index0 %}{%- endif %}
    {%- endfor %}
    {%- if currentIndex > 0 or currentIndex < allPosts.length - 1 %}
    <nav class="post-nav" aria-label="Post navigation">
      {%- if currentIndex < allPosts.length - 1 %}
      <a href="{{ allPosts[currentIndex + 1].url }}" class="post-nav__link post-nav__link--prev">
        <span class="post-nav__label">Previous</span>
        <span class="post-nav__title">{{ allPosts[currentIndex + 1].data.title }}</span>
      </a>
      {%- else %}<span></span>{%- endif %}
      {%- if currentIndex > 0 %}
      <a href="{{ allPosts[currentIndex - 1].url }}" class="post-nav__link post-nav__link--next">
        <span class="post-nav__label">Next</span>
        <span class="post-nav__title">{{ allPosts[currentIndex - 1].data.title }}</span>
      </a>
      {%- else %}<span></span>{%- endif %}
    </nav>
    {%- endif %}
  </div>
</article>